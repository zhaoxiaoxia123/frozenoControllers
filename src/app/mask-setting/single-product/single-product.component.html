<div id="content">
    <sa-widgets-grid>
        <div class="row">
            <article class="col-sm-12 ">
                <sa-widget [editbutton]="false" [deletebutton]="false" [colorbutton]="false">
                    <header>
                        <span class="widget-icon"> <i class="fa {{menuInfos?.menu_icon}}"></i> </span>
                        <h2>{{menuInfos?.menu_name}}</h2>
                    </header>
                    <div>
                        <div class="widget-body  no-padding">
                            <article style="padding:10px;">

                                <form  class="navbar-form " novalidate="" role="search" >
                                    <div class="btn-group" (click)="changedetails()">
                                        <button type="button" class="btn btn-primary"  >查看单品库存量</button>
                                    </div>
                                    <div class="btn-group">
                                        <input type="text" class="form-control" style="width: 300px" [(ngModel)]="code" name="code" placeholder="请扫码" (ngModelChange)="isShowCountDiv()">
                                    </div>
                                    <div class="btn-group" *ngIf="isShowCount">
                                        <input type="text" class="form-control" [(ngModel)]="count" name="count" placeholder="个数">
                                    </div>
                                    <div class="btn-group">
                                        <button type="button" class="btn default-btn"  (click)="onSubmit()">录入</button>
                                    </div>
                                </form>

                            </article>
                            <div  class="padding0">
                                <div class="table-responsive">
                                    <table class="table table-striped smart-form table-height-20">
                                        <thead>
                                        <tr>
                                            <th>单品二维码</th>
                                            <th>类型</th>
                                            <th>个数</th>
                                            <th>操作员</th>
                                            <th>创建时间</th>
                                        </tr>
                                        </thead>

                                        <tbody>
                                        <tr *ngFor="let p of productList?.result?.products.data">
                                            <td>{{p.code}}</td>
                                            <td>
                                             <span [ngSwitch]="p.type">
                                                <span class="label-normal" *ngSwitchCase="1">面膜单品</span>
                                                <span class="label-invalid" *ngSwitchCase="2">精华单品</span>
                                                <span class="label-maintain" *ngSwitchCase="3">导入仪单品</span>
                                                <span class="label-unknown" *ngSwitchDefault>未知</span>
                                             </span>
                                            </td>
                                            <td>{{p.count}}</td>
                                            <td>{{p.name}}</td>
                                            <td>{{p.created_at}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <!-- 底部-（分页部分）-->
                                <div class="footer-size flex-justify-end">
                                    <ul class="pagination" *ngIf="productList" >
                                        <li *ngFor="let p of productList?.page" class="{{p.class}}">
                                            <a class="page-link" (click)="pagination(p.value)" *ngIf="p.method=='method'">{{p.text}}</a>
                                            <a class="page-link" *ngIf="p.method==''">{{p.text}}</a>
                                        </li>
                                        <li class="page-item disabled">
                                            <a  class="page-link" disabled>共{{productList.result?.products?.total}}条</a>
                                        </li>
                                    </ul>
                                </div>

                            </div>
                        </div>
                    </div>
                </sa-widget>
            </article>
        </div>
    </sa-widgets-grid>
</div>


<div class="modal bd-example-modal-xl" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" [ngStyle]="{'display':isShowErrorCode ?'block':'none'}" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" (click)="close()">×</button>
            </div>
            <div class="modal-body">
                <span *ngFor="let e of errorCode">
                    {{e}}
                </span>
            </div>
        </div>
    </div>
</div>


<div class="slide-content"  [ngStyle]="{'display':xy_details?'block':'none'}" style="position: fixed; display: block; z-index: 9991;">
    <div class="entity-well entity-well--tasks">
        <div class="entity-well-header">
            <span class="approval-head">库存数</span>
            <ul class="entity-well-header-nav nav s pull-right" (click)="changedetails()">
                <li class="divider-v"></li>
                <li><a class="entity-well-header-close"><i class="fa fa-times"></i></a></li>
            </ul>
        </div>
        <div class="entity-well-scroll height-nonav height-nonav--notab ng-scope wt-scroll select-y-auto">
            <div class="approve-top approve-intro">
                <div class="approve-formschema">
                    <table class="table table-striped table-forum smart-form details-table">
                        <tbody >
                        <tr>
                            <th>名称</th>
                            <th>数量</th>
                        </tr>
                        <tr *ngFor="let c of productList?.result?.category">
                            <td class="details-width">{{c.category_desc}}</td>
                            <td class="">{{c.frozeno_category_count}}</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
