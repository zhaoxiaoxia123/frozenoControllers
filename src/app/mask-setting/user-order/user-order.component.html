<div id="content">
    <sa-widgets-grid>
        <div class="row">
            <article class="col-sm-12 ">
                <sa-widget [editbutton]="false" [deletebutton]="false" [colorbutton]="false">
                    <header>
                        <span class="widget-icon"> <i class="fa {{menuInfos?.menu_icon}}"></i> </span>
                        <h2>{{menuInfos?.menu_name}}</h2>
                    </header>
                    <div>
                        <div class="widget-body no-padding">
                            <article>
                                <div class="navbar navbar-default">
                                    <!--详情一直都显示，打印、备货（在有待发货状态的时候一直显示，其他情况显示灰色）、发货（在待发货并已备货时显示，其他时候显示灰色），添加删除不显示。修改需管理才显示（可以修改订单状态-针对退换货的，功能先不做，修改也可以先不显示）。作废管理员有权限（未支付和待发货的订单可以作废，状态显示交易失败）-->
                                    <form  class="navbar-form" role="search" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate >
                                        <div class="btn-group" *ngIf="isPermission(menu_id,'add')">
                                            <button type="button" class="btn btn-primary" (click)="isDemo('/forms/inventory1','0')"><span class="fa-fw fa fa-plus  mr-5"></span>添加</button>
                                        </div>
                                        <div class="btn-group" *ngIf="isPermission(menu_id,'edit')">
                                            <button type="button" [ngClass]="{'btn btn-warning':true,'not-click':editStatusUserOrderId == 0}" (click)="detailUserOrder('edit')"><span class="fa-fw fa fa-pencil mr-5"></span>修改</button>
                                        </div>
                                        <!--打印备货发货状态只有在待发货才显示-->
                                        <div class="btn-group" data-toggle="modal" data-target="#choiceexampleModal" >
                                            <button type="button" class="btn btn-warning" >备货</button>
                                        </div>
                                        <div class="btn-group"  data-toggle="modal" data-target="#sendexampleModal">
                                            <button type="button" class="btn btn-warning" >发货</button>
                                        </div>
                                        <div class="btn-group" >
                                            <button type="button" class="btn btn-danger" >作废</button>
                                        </div>
                                        <div class="btn-group" *ngIf="isPermission(menu_id,'delete')" >
                                            <button type="button" [ngClass]="{'btn btn-danger':true,'not-click':editStatusUserOrderId == 0}" (click)="deleteUserOrder('id')"><span class="fa-fw fa  fa-trash-o mr-5"></span>删除</button>
                                        </div>
                                        <div class="btn-group" *ngIf="isPermission(menu_id,'detail')">
                                            <button type="button" [ngClass]="{'btn btn-success':true,'not-click':editStatusUserOrderId == 0}" (click)="detailUserOrder('detail')"><span class="fa-fw fa fa-list-alt mr-5"></span>详情</button>
                                        </div>
                                        <div class="btn-group" *ngIf="isPermission(menu_id,'delete')">
                                            <button type="button" class="btn btn-secondary" (click)="showAllCheck()" ><span class="fa-fw fa fa-th-large mr-5"></span>批处理</button>
                                            <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-reference="parent">
                                                <span class="sr-only"></span>
                                            </button>
                                            <div class="dropdown-menu">
                                                <a class="dropdown-item" (click)="deleteUserOrder('all')">批量删除</a>
                                            </div>
                                        </div>

                                        <div style="display: inline-block;">
                                            <essence-ng2-print
                                                    [mode]="'popup'"
                                                    [popTitle]="'用户订单表格打印'"
                                                    [btnText]="'打印'"
                                                    [btnClass]="{'btn': true, 'btn-warning': true}"
                                                    [printHTML]="print_div"
                                                    [printStyle]="printStyle"
                                                    [printCSS]="printCSS"
                                                    (click)="beforePrint()"
                                                    (printComplete)="printComplete()">
                                            </essence-ng2-print>
                                        </div>

                                    </form>
                                    <iframe style="display: none;"></iframe>
                                    <form  class="navbar-form" novalidate="" role="search" [formGroup]="formModel" (ngSubmit)="onSubmit()" >
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                状态筛选
                                            </button>
                                            <!--未支付、待发货、待收货、退款中、交易成功、交易失败、已退款-->
                                            <div class="dropdown-menu">
                                                <a class="dropdown-item" href="#">未支付</a>
                                                <a class="dropdown-item" href="#">待发货</a>
                                                <a class="dropdown-item" href="#">待收货</a>
                                                <a class="dropdown-item" href="#">退款中</a>
                                                <div class="dropdown-divider"></div>
                                                <a class="dropdown-item" href="#">交易成功</a>
                                                <a class="dropdown-item" href="#">交易失败</a>
                                                <a class="dropdown-item" href="#">已退款</a>
                                            </div>
                                        </div>
                                        <div class="btn-group">
                                            <input type="text" class="form-control"  maxlength="15" formControlName="keyword"  placeholder="请输入搜索内容">
                                        </div>
                                        <div class="btn-group">
                                            <button type="button" class="btn default-btn" >搜索</button>
                                        </div>

                                    </form>

                                </div>
                            </article>
                            <div style="padding:0;">
                                <div *ngIf="isAll != 0" [ngStyle]="{'padding': '0','z-index': '2','width':width,'float':'left'}" class="table-scrolling padding0">
                                    <table class="table table-striped   smart-form table-height-20">
                                        <thead>
                                        <tr>
                                            <td>
                                                <label class="checkbox mt-8">
                                                    <input type="checkbox" name="checkbox-inline" [checked]="check" (change)="changeCheckAll($event)">
                                                    <i></i>
                                                </label>
                                            </td>
                                        </tr>
                                        </thead>
                                        <tbody *ngIf="orderList">
                                        <tr *ngFor="let sl of orderList?.result?.data">
                                            <td>
                                                <label class="checkbox mt-8">
                                                    <input type="checkbox" value="{{ sl.o_id }}" [checked]="selects[sl.o_id]" (change)="handle($event)">
                                                    <i></i>
                                                </label>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>


                                <div [ngStyle]="{'padding': '0','z-index': '2','width':width_1,'float':'left'}" class="table-scrolling padding0 printonly">


                                    <table class="table table-striped smart-form table-height-20">
                                        <thead>
                                        <tr >
                                            <th>序号</th>
                                            <th>订单编号</th>
                                            <th>购买方</th>
                                            <th>销售方</th>
                                            <th>负责人</th>
                                            <th>产品明细</th>
                                            <th>总金额</th>
                                            <th>状态</th>
                                            <th>下单时间</th>
                                        </tr>
                                        </thead>
                                        <tbody *ngIf="orderList">
                                        <tr *ngFor="let sl of orderList?.result?.data" (click)="isStatusShow(sl.o_id)" [ngClass]="{'table-color':editStatusUserOrderId == sl.o_id}">
                                            <td>1</td>
                                            <td>{{ sl.o_order }}</td>
                                            <td>谷子健</td>
                                            <td>冻龄智美</td>
                                            <td>{{ sl.c_name }}</td>
                                            <td data-toggle="tooltip" data-placement="top" title="无创水光套装*1，润月雅水光精华套装*3，纯钛金属表皮电子套装*3，纯钛金属表皮电子*20，润月雅水光精华*20">{{ sl.frozeno_order_name }}</td>
                                            <td>{{ sl.frozeno_rate_amount }}</td>
                                            <td>
                                                <!--管理员可取消——未支付、待发货销售单里面的订单审核通过自动生成用户订单
                                                状态：未支付、待发货、待收货、退款中、交易成功、交易失败、已退款
                                                物流开通后还需添加状态：已签收
                                                在待发货状态下显示：打印、备货、发货。其他状态不显示。
                                                -->
                                                <span style="display: none">
                                                  <span class="label-normal">未支付</span>
                                                  <span class="label-blue" >待发货</span>
                                                  <span class="label-normal" >待收货</span>
                                                  <span class="label-full" >退款中</span>
                                                  <span class="label-normal" >交易成功</span>
                                                  <span class="label-full" >交易失败</span>
                                                  <span class="label-full" >已退款</span>
                                                  <span class="label-unknown" >未知</span>
                                                </span>
                                                <span [ngSwitch]="sl.frozeno_order_state">
                                                  <span class="label-normal" *ngSwitchCase="1">未支付</span>
                                                  <span class="label-blue" *ngSwitchCase="2">已支付，备货中</span>
                                                  <span class="label-full" *ngSwitchCase="3">已支付,已发货</span>
                                                  <span class="label-full" *ngSwitchCase="4">交易完成</span>
                                                  <span class="label-full" *ngSwitchCase="5">订单已取消</span>
                                                  <span class="label-full" *ngSwitchCase="6">审核取消订单</span>
                                                  <span class="label-full" *ngSwitchCase="7">已退款</span>
                                                  <span class="label-unknown" *ngSwitchDefault>未知</span>
                                                </span>
                                            </td>
                                            <td>{{ sl.created_at }}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- 底部-（分页部分）-->
                            <div class="footer-size flex-justify-end">
                                <ul class="pagination" *ngIf="orderList" >
                                    <li *ngFor="let p of orderList?.result?.page" class="{{p.class}}">
                                        <a class="page-link" (click)="pagination(p.value)" *ngIf="p.method=='method'">{{p.text}}</a>
                                        <a class="page-link" *ngIf="p.method==''">{{p.text}}</a>
                                    </li>
                                    <li class="page-item disabled">
                                        <a  class="page-link" disabled>共{{orderList.result?.total}}条</a>
                                    </li>
                                </ul>
                            </div>

                        </div>
                    </div>
                </sa-widget>
            </article>
        </div>
    </sa-widgets-grid>

    <!--备货-->
    <div class="modal fade bd-example-modal-xl" id="choiceexampleModal" tabindex="-1" role="dialog" aria-labelledby="choiceexampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="choiceexampleModalLabel">备货（订单编号：B754946937233）</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-overflow-y">
                    <div class="m-order">
                        <div class="row m-orderdetails">
                            <div class="col-6 col-md-6"><span class="m-orderdetails-title">订单编号：</span>B754946937233</div>
                        </div>
                    </div>
                    <div class="m-order">
                        <div class="row m-orderdetails">
                            <div class="col-6 col-md-4 "><span class="m-orderdetails-title">配送地址————</span></div>
                            <div class="col-6 col-md-4"><span class="m-orderdetails-title">姓名：</span>谷子健</div>
                            <div class="col-6 col-md-4 "><span class="m-orderdetails-title">手机号：</span>13808808606</div>
                        </div>
                        <div class="row m-orderdetails">
                            <div class="col-12 col-md-4"><span class="m-orderdetails-title">邮编：</span>65464</div>
                            <div class="col-12 col-md-8"><span class="m-orderdetails-title">详细地址：</span>深圳市福田区雨田路莲花北村富联大厦3栋22H</div>
                        </div>
                    </div>
                    <div class="m-order">
                        <!--表格默认最少显示5行-->
                        <div class="bg-light" style="padding:10px;">

                            <form  class="navbar-form" role="search">
                                <div class="btn-group" style="display: inline-block;">
                                    <essence-ng2-print
                                            [mode]="'popup'"
                                            [popTitle]="'用户订单表格打印'"
                                            [btnText]="'打印'"
                                            [btnClass]="{'btn': true, 'btn-warning': true}"
                                            [printHTML]="print_div"
                                            [printStyle]="printStyle"
                                            [printCSS]="printCSS"
                                            (click)="beforePrint()"
                                            (printComplete)="printComplete()">
                                    </essence-ng2-print>
                                </div>
                                <div class="btn-group">
                                    <input type="text" class="form-control" style="width: 300px"  name="code" placeholder="请扫码或输入">
                                </div>
                                <div class="btn-group" >
                                    <input type="text" class="form-control"  name="count" placeholder="请输入个数">
                                </div>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-primary" >录入</button>
                                </div>
                            </form>

                        </div>
                        <table class="table table-striped table-forum">
                            <thead>
                            <tr>
                                <th scope="col">名称</th>
                                <th scope="col">购买数量</th>
                                <th scope="col">备货数量</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td >无创水光套装</td>
                                <td>5</td>
                                <td>3</td>
                            </tr>
                            <tr>
                                <td >润月雅水光精华套装</td>
                                <td>5</td>
                                <td>3</td>
                            </tr>
                            </tbody>
                        </table>

                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                    <button type="button" class="btnbtn-danger">全部清空</button>
                    <button type="button" class="btn btn-warning">备货</button>
                    <!--待发货状态的订单-->
                    <button type="button" class="btn btn-warning">备货显示下一条</button>
                </div>
            </div>
        </div>
    </div>

    <!--发货-->
    <div class="modal fade bd-example-modal-xl" id="sendexampleModal" tabindex="-1" role="dialog" aria-labelledby="sendexampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="sendexampleModalLabel">发货（订单编号：B754946937233）</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-overflow-y">
                    <div class="m-order">
                        <div class="row m-orderdetails">
                            <div class="col-6 col-md-6"><span class="m-orderdetails-title">订单编号：</span>B754946937233</div>
                            <div class="col-6 col-md-6"><span class="m-orderdetails-title">快递单号：</span>54455451545</div>
                        </div>
                    </div>
                    <div class="m-order">
                        <div class="row m-orderdetails">
                            <div class="col-6 col-md-4 "><span class="m-orderdetails-title">配送地址————</span></div>
                            <div class="col-6 col-md-4"><span class="m-orderdetails-title">姓名：</span>谷子健</div>
                            <div class="col-6 col-md-4 "><span class="m-orderdetails-title">手机号：</span>13808808606</div>
                        </div>
                        <div class="row m-orderdetails">
                            <div class="col-12 col-md-4"><span class="m-orderdetails-title">邮编：</span>65464</div>
                            <div class="col-12 col-md-8"><span class="m-orderdetails-title">详细地址：</span>深圳市福田区雨田路莲花北村富联大厦3栋22H</div>
                        </div>
                    </div>
                    <div class="m-order">
                        <!--表格默认最少显示5行-->
                        <div class="bg-light" style="padding:10px;">

                            <form  class="navbar-form" role="search">
                                <div class="btn-group">
                                    <input type="text" class="form-control" style="width: 300px"  name="code" placeholder="请扫码或输入快递单号">
                                </div>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-primary" >录入</button>
                                </div>
                            </form>

                        </div>
                        <table class="table table-striped table-forum">
                            <thead>
                            <tr>
                                <th scope="col">名称</th>
                                <th scope="col">购买数量</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td >无创水光套装</td>
                                <td>5</td>
                            </tr>
                            <tr>
                                <td >润月雅水光精华套装</td>
                                <td>5</td>
                            </tr>
                            </tbody>
                        </table>



                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-warning">发货</button>
                    <!--待发货状态已备货的订单-->
                    <button type="button" class="btn btn-warning">发货并显示下一条</button>
                </div>
            </div>
        </div>
    </div>
    <!--用户订单详情-->
    <div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">{{orderInfo.result?.frozeno_order_name}}</h4>
                    <button type="button" class="close" (click)="lgModal.hide()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-overflow-y">

                    <div class="m-order">
                        <div class="alert alert-primary m-orderdetails-alert" role="alert">
                            基本信息
                        </div>
                        <div class="row m-orderdetails">
                            <div class="col-6 col-md-3"><span class="m-orderdetails-title">订单编号：</span>B754946937233</div>
                            <div class="col-6 col-md-3"><span class="m-orderdetails-title">购买方：</span>谷子健</div>
                            <div class="col-6 col-md-3"><span class="m-orderdetails-title">销售方：</span>冻龄智美</div>
                            <div class="col-6 col-md-3"><span class="m-orderdetails-title">负责人：</span>黄浩能</div>
                        </div>
                        <div class="row m-orderdetails">
                            <div class="col-12 "><span class="m-orderdetails-title">产品明细：</span>无创水光套装*1，润月雅水光精华套装*3，纯钛金属表皮电子套装*3，纯钛金属表皮电子*20，润月雅水光精华*20></div>
                        </div>
                        <div class="row m-orderdetails">
                            <div class="col-12 ">
                                <button type="button" class="btn btn-primary" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">查看详情</button>
                            </div>
                        </div>

                    <div class="row m-orderdetails">
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">运费：</span>¥ 0.00</div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">优惠券：</span>¥ 100</div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">积分抵扣：</span>¥ 0.1</div>
                    </div>
                    <div class="row m-orderdetails">
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">商品金额（1件）：</span>¥</div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">总金额：</span>¥ </div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">支付方式：</span>微信支付</div>
                    </div>
                    <div class="row m-orderdetails">
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">状态：</span>
                            <span>
                              <span class="label-normal">未支付</span>
                              <span class="label-blue" >待发货</span>
                              <span class="label-normal" >待收货</span>
                              <span class="label-full" >退款中</span>
                              <span class="label-normal" >交易成功</span>
                              <span class="label-full" >交易失败</span>
                              <span class="label-full" >已退款</span>
                              <span class="label-unknown" >未知</span>
                           </span>
                        </div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">下单时间：</span>2020-05-08 19:45:00</div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">发货时间：</span>2020-05-08 19:45:00</div>
                    </div>

                    <div class="row m-orderdetails">
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">物流公司：</span>普通快递</div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">快递单号：</span>456564565</div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">出货仓库：</span></div>
                    </div>
                    <div class="row m-orderdetails">
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">备货人：</span>黄浩能</div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">发货人：</span>黄浩能</div>
                    </div>
                </div>
                <div class="m-order">
                    <div class="row m-orderdetails">
                        <div class="col-6 col-md-4 "><span class="m-orderdetails-title">配送地址————</span></div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">姓名：</span>谷子健</div>
                        <div class="col-6 col-md-4 "><span class="m-orderdetails-title">手机号：</span>13808808606</div>
                    </div>
                    <div class="row m-orderdetails">
                        <div class="col-12 col-md-4"><span class="m-orderdetails-title">邮编：</span>65464</div>
                        <div class="col-12 col-md-8"><span class="m-orderdetails-title">详细地址：</span>深圳市福田区雨田路莲花北村富联大厦3栋22H</div>
                    </div>
                </div>
                    <!--需要开发票时显示-->
                <div class="m-order">
                    <div class="row m-orderdetails">
                        <div class="col-6 col-md-4 "><span class="m-orderdetails-title">发票————</span></div>
                        <div class="col-6 col-md-4"><span class="m-orderdetails-title">名称：</span>谷子健</div>
                        <div class="col-6 col-md-4 "><span class="m-orderdetails-title">电话号码：</span>13808808606</div>
                    </div>
                    <div class="row m-orderdetails">
                        <div class="col-12 col-md-6 "><span class="m-orderdetails-title">税号：</span>91440300MA5DCGFTXC</div>
                        <div class="col-12 col-md-6"><span class="m-orderdetails-title">单位地址：</span>深圳市福田区莲花街道康欣社区北环大道7043号青海大厦3203</div>
                    </div>
                    <div class="row m-orderdetails">
                        <div class="col-12 col-md-6 "><span class="m-orderdetails-title">开户银行：</span>深圳建设银行中心区支行</div>
                        <div class="col-12 col-md-6"><span class="m-orderdetails-title">银行账户：</span>44250100009300002217</div>
                    </div>

                </div>
                <div class="m-order">
                    <div class="collapse" id="collapseExample">
                        <div class="alert alert-primary m-orderdetails-alert" role="alert">
                            产品明细
                        </div>
                        <!--表格默认最少显示5行-->
                        <table class="table table-striped table-forum">
                            <thead>
                            <tr>
                                <th scope="col">序号</th>
                                <th scope="col">产品编号</th>
                                <th scope="col">名称</th>
                                <th scope="col">数量</th>
                                <th scope="col">单价</th>
                                <th scope="col">折扣</th>
                                <th scope="col">折扣价</th>
                                <th scope="col">金额</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td >1</td>
                                <td>64646464</td>
                                <td>无创水光套装</td>
                                <td>1</td>
                                <td>222</td>
                                <td>222</td>
                                <td>222</td>
                                <td>222</td>
                            </tr>
                            <tr>
                                <td scope="row">2</td>
                                <td>64646464</td>
                                <td>无创水光套装</td>
                                <td>1</td>
                                <td>222</td>
                                <td>222</td>
                                <td>222</td>
                                <td>222</td>
                            </tr>
                            <tr>
                                <td scope="row">3</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td scope="row">4</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td scope="row">5</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td colspan="3">合计：捌仟陆佰陆拾肆元整</td>
                                <td>1</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td>222</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    
                </div>





                    <div class="row" style="display: none">
                        <div class="col-sm-12">
                            <div class="text-overflow-y" >
                                <P class="alert alert-info">基本信息</P>
                                <table class="table table-striped table-forum">
                                    <tbody>
                                    <tr>
                                        <td class="width-120"></td>
                                        <td></td>
                                        <td class="width-120">名称:</td>
                                        <td >{{orderInfo.result?.frozeno_order_name}}</td>
                                    </tr>
                                    <tr>
                                        <td class="width-120">编码</td>
                                        <td>{{orderInfo.result?.o_order}}</td>
                                        <td class="width-120">卡券抵消金额</td>
                                        <td>{{orderInfo.result?.ticket_amount}}</td>
                                    </tr>
                                    <tr >
                                        <td class="width-120">商品信息</td>
                                        <td colspan="3">
                                            <p *ngFor="let p of orderInfo?.result?.products" >
                                                <span>{{p.frozeno_product_name}}</span>
                                                <span>{{p.product_amount}}</span> ( X<span>{{p.product_count}}</span>)
                                            </p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="width-120">状态:</td>
                                        <td class="" [ngSwitch]="orderInfo?.result?.frozeno_order_state">
                                          <span class="label-normal" *ngSwitchCase="1">未支付</span>
                                          <span class="label-blue" *ngSwitchCase="2">已支付，备货中</span>
                                          <span class="label-full" *ngSwitchCase="3">已支付,已发货</span>
                                          <span class="label-full" *ngSwitchCase="4">交易完成</span>
                                          <span class="label-full" *ngSwitchCase="5">取消订单</span>
                                          <span class="label-unknown" *ngSwitchDefault>未知</span>
                                        </td>
                                        <td class="width-120">负责人:</td>
                                        <td class="">{{orderInfo.result?.c_name}}</td>
                                    </tr>
                                    <tr>
                                        <td class="width-120">积分：</td>
                                        <td class="" colspan="3">{{orderInfo.result?.frozeno_point}}</td>
                                    </tr>
                                    <tr>
                                        <td class="width-120">价格：</td>
                                        <td class="" colspan="3" >{{orderInfo.result?.frozeno_rate_amount}}</td>
                                    </tr>
                                    <tr>
                                        <td class="width-120">收件人</td>
                                        <td>{{orderInfo.result?.name}}</td>
                                        <td class="width-120">收件人手机号</td>
                                        <td>{{orderInfo.result?.phone}}</td>
                                    </tr>
                                    <tr>
                                        <td class="width-120">收件人地址：</td>
                                        <td class="" colspan="3" >{{orderInfo.result?.province}} {{orderInfo.result?.city}} {{orderInfo.result?.area}} {{orderInfo.result?.address}}</td>
                                    </tr>
                                    <tr *ngIf="orderInfo.result?.frozeno_order_state == 2 && !orderInfo.result?.frozeno_express_code">
                                        <td class="" colspan="4" >
                                            顺丰快递单号：<input type="text" placeholder="请填写快递单号" name="express_code" [(ngModel)]="express_code" [ngModelOptions]="{standalone: true}"/>
                                            <button (click)="sendProduct()">发货</button>
                                        </td>
                                    </tr>
                                    <tr *ngIf="orderInfo.result?.frozeno_express_code">
                                        <td class="" colspan="4" >
                                            顺丰快递(单号：{{orderInfo.result?.frozeno_express_code}})
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" (click)="lgModal.hide()">
                        返回
                    </button>
                </div>
            </div>
        </div>
    </div>

</div>

<div  style="display: none">

    <div class="receipt" #print_div>
        <div class="rt-main rt-flex">
            <div class="rt-main-doc"  style="padding-right:60px;">
                <div class="rt-item-hd">
                    <div class="rt-item-hd-img rt-center">
                        <img src="assets/img/frozen-black.png" class="rt-mg">
                    </div>
                    <div class="rt-center rt-font-lg">深圳冻龄智美生物科技有限公司</div>
                    <div class="rt-center">黑科技纯钛金属表皮电子系统，开启科技焕肤之旅。
                    </div>
                </div>
                <div class="rt-item">
                    <div class="rt-left" style="width:50%;padding-right:20px;" >
                        <div class="" style="font-weight: bold;">配送地址</div>
                        <div class="">名称：{{(orderInfo.result?.c_name) ? (orderInfo.result?.c_name) : (orderInfo.result?.c_phone)}}</div>
                        <div class="">姓名：{{orderInfo.result?.name}}</div>
                        <div class="">省/市/自治区：{{orderInfo.result?.province}}{{orderInfo.result?.city}}{{orderInfo.result?.area}}</div>
                        <div class="">街道地址：{{orderInfo.result?.address}}</div>
                        <div class="">邮政编码:{{orderInfo.result?.zip}}</div>
                        <div class="">电话：{{orderInfo.result?.phone}}</div>
                    </div>
                    <div class="rt-right" style="width:50%;">
                        <div class="rt-one">
                            <img src="assets/img/one1.jpg" class="rt-one-mg">
                        </div>

                        <div class="">订单编号：{{orderInfo.result?.tax_number}}</div>
                        <div class="">日期：{{orderInfo.result?.created_at}}</div>
                        <div class="">客户ID：{{orderInfo.result?.frozeno_customer_id}}</div>

                    </div>
                </div>


                <div class="rt-table">
                    <div class="rt-table-hd">
                        <div class="">出货仓库：</div>
                        <div class="">配送方式：{{orderInfo.result?.frozeno_express_company}}</div>
                        <div class="">付款方式：微信</div>
                    </div>
                    <table class="rt-gridtable">
                        <tr>
                            <th >No.</th>
                            <th >产品编号</th>
                            <th >名称</th>
                            <th >数量</th>
                            <th >折扣价</th>
                        </tr>
                        <tr *ngFor="let p of orderInfo?.result?.products;let indp = index;">
                            <td>{{indp+1}}</td>
                            <td>{{p.category_number}}</td>
                            <td>{{p.category_desc}}</td>
                            <td>{{p.product_count}}</td>
                            <td>{{p.product_amount}}</td>
                        </tr>
                        <tr>
                            <td class="ft-left" colspan="3">合计：</td>
                            <td>{{orderInfo?.result?.totalCount}}</td>
                            <td>{{orderInfo?.result?.frozeno_order_amount}}</td>
                        </tr>
                    </table>
                    <div class="rt-table-right" style="padding: 10px 0 10px;">收据</div>
                    <div class="rt-center rt-ft">谢谢惠顾！</div>
                </div>
            </div>

            <div class="rt-main-doc"  style="padding-left:60px;">
                <div class="rt-item-hd">
                    <div class="rt-item-hd-img rt-center">
                        <img src="assets/img/frozen-black.png" class="rt-mg">
                    </div>
                    <div class="rt-center rt-font-lg">深圳冻龄智美生物科技有限公司</div>
                    <div class="rt-center">黑科技纯钛金属表皮电子系统，开启科技焕肤之旅。
                    </div>
                </div>
                <div class="rt-item">
                    <div class="rt-left" style="width:50%;padding-right:20px;" >
                        <div class="" style="font-weight: bold;">配送地址</div>
                        <div class="">名称：{{(orderInfo.result?.c_name) ? (orderInfo.result?.c_name) : (orderInfo.result?.c_phone)}}</div>
                        <div class="">姓名：{{orderInfo.result?.name}}</div>
                        <div class="">省/市/自治区：{{orderInfo.result?.province}}{{orderInfo.result?.city}}{{orderInfo.result?.area}}</div>
                        <div class="">街道地址：{{orderInfo.result?.address}}</div>
                        <div class="">邮政编码:{{orderInfo.result?.zip}}</div>
                        <div class="">电话：{{orderInfo.result?.phone}}</div>
                    </div>
                    <div class="rt-right" style="width:50%;">
                        <div class="rt-one">
                            <img src="assets/img/one1.jpg" class="rt-one-mg">
                        </div>
                        <div class="">发票编号：{{orderInfo.result?.tax_number}}</div>
                        <div class="">日期：{{orderInfo.result?.created_at}}</div>
                        <div class="">客户ID：{{orderInfo.result?.frozeno_customer_id}}</div>
                    </div>
                </div>
                <div class="rt-table">
                    <div class="rt-table-hd">
                        <div class="">出货仓库：</div>
                        <div class="">配送方式：{{orderInfo.result?.frozeno_express_company}}</div>
                        <div class="">付款方式：微信</div>
                    </div>
                    <table class="rt-gridtable">
                        <tr>
                            <th >No.</th>
                            <th >产品编号</th>
                            <th >名称</th>
                            <th >数量</th>
                            <th >折扣价</th>
                        </tr>
                        <tr *ngFor="let p of orderInfo?.result?.products;let indp = index;">
                            <td>{{indp+1}}</td>
                            <td>{{p.category_number}}</td>
                            <td>{{p.category_desc}}</td>
                            <td>{{p.product_count}}</td>
                            <td>{{p.product_amount}}</td>
                        </tr>
                        <tr>
                            <td class="ft-left" colspan="3">合计：</td>
                            <td>{{orderInfo?.result?.totalCount}}</td>
                            <td>{{orderInfo?.result?.frozeno_order_amount}}</td>
                        </tr>
                    </table>
                    <div class="rt-table-right" style="padding: 10px 0 10px;">收据</div>
                    <div class="rt-center rt-ft">谢谢惠顾！</div>
                </div>
            </div>
        </div>
    </div>
</div>
